{
  "info": {
    "name": "DevOps Automation API",
    "description": "Collection completa para testar todos os endpoints da DevOps Automation API - Spring Boot application para ensino de automa√ß√£o DevOps",
    "version": "1.0.0",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "item": [
    {
      "name": "üåü Basic Endpoints",
      "description": "Endpoints b√°sicos da API",
      "item": [
        {
          "name": "Hello World",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/hello",
              "host": ["{{base_url}}"],
              "path": ["api", "hello"]
            },
            "description": "Endpoint b√°sico que retorna uma mensagem de hello world"
          },
          "response": [
            {
              "name": "Success Response",
              "originalRequest": {
                "method": "GET",
                "header": [],
                "url": {
                  "raw": "http://localhost:8081/api/hello",
                  "protocol": "http",
                  "host": ["localhost"],
                  "port": "8081",
                  "path": ["api", "hello"]
                }
              },
              "status": "OK",
              "code": 200,
              "header": [
                {
                  "key": "Content-Type",
                  "value": "text/plain;charset=UTF-8"
                }
              ],
              "body": "Ola, Mundo da API!"
            }
          ]
        },
        {
          "name": "API Status",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/status",
              "host": ["{{base_url}}"],
              "path": ["api", "status"]
            },
            "description": "Status detalhado da API em JSON com m√©tricas do sistema"
          },
          "response": [
            {
              "name": "Success Response",
              "originalRequest": {
                "method": "GET",
                "header": [],
                "url": {
                  "raw": "http://localhost:8081/api/status",
                  "protocol": "http",
                  "host": ["localhost"],
                  "port": "8081",
                  "path": ["api", "status"]
                }
              },
              "status": "OK",
              "code": 200,
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/json"
                }
              ],
              "body": "{\n  \"hostname\": \"136728c8e127\",\n  \"memory\": {\n    \"heap_max_MB\": 1960,\n    \"heap_used_MB\": 22,\n    \"non_heap_used_MB\": 59\n  },\n  \"os\": \"Linux\",\n  \"app_version\": \"1.0.0\",\n  \"ip\": \"172.17.0.2\",\n  \"java_version\": \"17.0.16\",\n  \"cpu_load_avg\": 1.37841796875,\n  \"uptime_sec\": 13,\n  \"status\": \"UP\",\n  \"timestamp\": \"2025-08-11T02:01:05Z\"\n}"
            }
          ]
        },
        {
          "name": "Container Info",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/info",
              "host": ["{{base_url}}"],
              "path": ["api", "info"]
            },
            "description": "Informa√ß√µes detalhadas do container e ambiente de execu√ß√£o"
          },
          "response": [
            {
              "name": "Success Response",
              "originalRequest": {
                "method": "GET",
                "header": [],
                "url": {
                  "raw": "http://localhost:8081/api/info",
                  "protocol": "http",
                  "host": ["localhost"],
                  "port": "8081",
                  "path": ["api", "info"]
                }
              },
              "status": "OK",
              "code": 200,
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/json"
                }
              ],
              "body": "{\n  \"containerName\": \"136728c8e127\",\n  \"ipAddress\": \"172.17.0.2\",\n  \"osName\": \"Linux\",\n  \"appVersion\": \"1.0.0\",\n  \"uptimeMillis\": 16964\n}"
            }
          ]
        },
        {
          "name": "Container Name",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/getContainerName",
              "host": ["{{base_url}}"],
              "path": ["api", "getContainerName"]
            },
            "description": "Retorna o nome (hostname) do container atual"
          },
          "response": [
            {
              "name": "Success Response",
              "originalRequest": {
                "method": "GET",
                "header": [],
                "url": {
                  "raw": "http://localhost:8081/api/getContainerName",
                  "protocol": "http",
                  "host": ["localhost"],
                  "port": "8081",
                  "path": ["api", "getContainerName"]
                }
              },
              "status": "OK",
              "code": 200,
              "header": [
                {
                  "key": "Content-Type",
                  "value": "text/plain;charset=UTF-8"
                }
              ],
              "body": "Container name (hostname): 136728c8e127"
            }
          ]
        },
        {
          "name": "Static JSON",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/json",
              "host": ["{{base_url}}"],
              "path": ["api", "json"]
            },
            "description": "Retorna JSON est√°tico do resources/static/device.json"
          },
          "response": [
            {
              "name": "Success Response",
              "originalRequest": {
                "method": "GET",
                "header": [],
                "url": {
                  "raw": "http://localhost:8081/api/json",
                  "protocol": "http",
                  "host": ["localhost"],
                  "port": "8081",
                  "path": ["api", "json"]
                }
              },
              "status": "OK",
              "code": 200,
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/json"
                }
              ],
              "body": "{\n  \"device\": \"example\",\n  \"type\": \"static\"\n}"
            }
          ]
        }
      ]
    },
    {
      "name": "üìç CEP API",
      "description": "Endpoints para busca de endere√ßos via CEP usando integra√ß√£o com ViaCEP",
      "item": [
        {
          "name": "Buscar CEP - V√°lido",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/cep/{{valid_cep}}",
              "host": ["{{base_url}}"],
              "path": ["api", "cep", "{{valid_cep}}"]
            },
            "description": "Busca endere√ßo por CEP v√°lido (8 d√≠gitos). Exemplo: 30350210"
          },
          "response": [
            {
              "name": "Success Response - Belo Horizonte",
              "originalRequest": {
                "method": "GET",
                "header": [],
                "url": {
                  "raw": "http://localhost:8081/api/cep/30350210",
                  "protocol": "http",
                  "host": ["localhost"],
                  "port": "8081",
                  "path": ["api", "cep", "30350210"]
                }
              },
              "status": "OK",
              "code": 200,
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/json"
                }
              ],
              "body": "{\n  \"cep\": \"30350-210\",\n  \"logradouro\": \"Rua Matip√≥\",\n  \"complemento\": \"\",\n  \"unidade\": \"\",\n  \"bairro\": \"Santo Ant√¥nio\",\n  \"localidade\": \"Belo Horizonte\",\n  \"uf\": \"MG\",\n  \"estado\": \"Minas Gerais\",\n  \"regiao\": \"Sudeste\",\n  \"ibge\": \"3106200\",\n  \"gia\": \"\",\n  \"ddd\": \"31\",\n  \"siafi\": \"4123\"\n}"
            }
          ]
        },
        {
          "name": "Buscar CEP - S√£o Paulo",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/cep/01001000",
              "host": ["{{base_url}}"],
              "path": ["api", "cep", "01001000"]
            },
            "description": "Exemplo de CEP de S√£o Paulo - Pra√ßa da S√©"
          },
          "response": [
            {
              "name": "Success Response - S√£o Paulo",
              "originalRequest": {
                "method": "GET",
                "header": [],
                "url": {
                  "raw": "http://localhost:8081/api/cep/01001000",
                  "protocol": "http",
                  "host": ["localhost"],
                  "port": "8081",
                  "path": ["api", "cep", "01001000"]
                }
              },
              "status": "OK",
              "code": 200,
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/json"
                }
              ],
              "body": "{\n  \"cep\": \"01001-000\",\n  \"logradouro\": \"Pra√ßa da S√©\",\n  \"complemento\": \"lado √≠mpar\",\n  \"unidade\": \"\",\n  \"bairro\": \"S√©\",\n  \"localidade\": \"S√£o Paulo\",\n  \"uf\": \"SP\",\n  \"estado\": \"S√£o Paulo\",\n  \"regiao\": \"Sudeste\",\n  \"ibge\": \"3550308\",\n  \"gia\": \"1004\",\n  \"ddd\": \"11\",\n  \"siafi\": \"7107\"\n}"
            }
          ]
        },
        {
          "name": "Buscar CEP - Rio de Janeiro",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/cep/20040020",
              "host": ["{{base_url}}"],
              "path": ["api", "cep", "20040020"]
            },
            "description": "Exemplo de CEP do Rio de Janeiro - Centro"
          }
        },
        {
          "name": "Buscar CEP - Inv√°lido (Erro 400)",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/cep/123",
              "host": ["{{base_url}}"],
              "path": ["api", "cep", "123"]
            },
            "description": "Teste com CEP inv√°lido (menos de 8 d√≠gitos) - deve retornar erro 400"
          },
          "response": [
            {
              "name": "Error Response - CEP Inv√°lido",
              "originalRequest": {
                "method": "GET",
                "header": [],
                "url": {
                  "raw": "http://localhost:8081/api/cep/123",
                  "protocol": "http",
                  "host": ["localhost"],
                  "port": "8081",
                  "path": ["api", "cep", "123"]
                }
              },
              "status": "Bad Request",
              "code": 400,
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/json"
                }
              ],
              "body": "{\n  \"error\": \"CEP deve conter exatamente 8 d√≠gitos\"\n}"
            }
          ]
        },
        {
          "name": "Buscar CEP - N√£o Encontrado (Erro 404)",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/cep/99999999",
              "host": ["{{base_url}}"],
              "path": ["api", "cep", "99999999"]
            },
            "description": "Teste com CEP que n√£o existe - deve retornar erro 404"
          }
        }
      ]
    },
    {
      "name": "üè• Health Check & Monitoring",
      "description": "Endpoints de monitoramento e health check",
      "item": [
        {
          "name": "Actuator Health",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/actuator/health",
              "host": ["{{base_url}}"],
              "path": ["actuator", "health"]
            },
            "description": "Health check t√©cnico com status de todos os componentes do sistema"
          },
          "response": [
            {
              "name": "Healthy Response",
              "originalRequest": {
                "method": "GET",
                "header": [],
                "url": {
                  "raw": "http://localhost:8081/actuator/health",
                  "protocol": "http",
                  "host": ["localhost"],
                  "port": "8081",
                  "path": ["actuator", "health"]
                }
              },
              "status": "OK",
              "code": 200,
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/json"
                }
              ],
              "body": "{\n  \"status\": \"UP\",\n  \"components\": {\n    \"diskSpace\": {\n      \"status\": \"UP\",\n      \"details\": {\n        \"total\": 62671097856,\n        \"free\": 21877923840,\n        \"threshold\": 10485760,\n        \"path\": \"/app/.\",\n        \"exists\": true\n      }\n    },\n    \"ping\": {\n      \"status\": \"UP\"\n    },\n    \"ssl\": {\n      \"status\": \"UP\",\n      \"details\": {\n        \"validChains\": [],\n        \"invalidChains\": []\n      }\n    }\n  }\n}"
            }
          ]
        },
        {
          "name": "Actuator Info",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/actuator/info",
              "host": ["{{base_url}}"],
              "path": ["actuator", "info"]
            },
            "description": "Informa√ß√µes b√°sicas da aplica√ß√£o"
          }
        }
      ]
    },
    {
      "name": "üåê Web Pages",
      "description": "Endpoints das p√°ginas web (HTML)",
      "item": [
        {
          "name": "Home Page",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/",
              "host": ["{{base_url}}"],
              "path": [""]
            },
            "description": "P√°gina inicial com bot√µes de navega√ß√£o"
          }
        },
        {
          "name": "Status Dashboard",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/status",
              "host": ["{{base_url}}"],
              "path": ["status"]
            },
            "description": "Dashboard visual do status do sistema"
          }
        },
        {
          "name": "CEP Search Page",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/cep",
              "host": ["{{base_url}}"],
              "path": ["cep"]
            },
            "description": "Interface para busca de CEP com formul√°rio"
          }
        },
        {
          "name": "Swagger UI",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/swagger-ui.html",
              "host": ["{{base_url}}"],
              "path": ["swagger-ui.html"]
            },
            "description": "Interface Swagger para documenta√ß√£o interativa da API"
          }
        }
      ]
    },
    {
      "name": "üìñ API Documentation",
      "description": "Endpoints de documenta√ß√£o da API",
      "item": [
        {
          "name": "OpenAPI JSON",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/v3/api-docs",
              "host": ["{{base_url}}"],
              "path": ["v3", "api-docs"]
            },
            "description": "Especifica√ß√£o OpenAPI em formato JSON"
          }
        },
        {
          "name": "OpenAPI YAML",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/v3/api-docs.yaml",
              "host": ["{{base_url}}"],
              "path": ["v3", "api-docs.yaml"]
            },
            "description": "Especifica√ß√£o OpenAPI em formato YAML"
          }
        }
      ]
    }
  ],
  "variable": [
    {
      "key": "base_url",
      "value": "http://localhost:8081",
      "description": "Base URL da API (local development)"
    },
    {
      "key": "valid_cep",
      "value": "30350210",
      "description": "CEP v√°lido para testes (Belo Horizonte - Rua Matip√≥)"
    }
  ],
  "event": [
    {
      "listen": "prerequest",
      "script": {
        "type": "text/javascript",
        "exec": [
          "// Pre-request script global",
          "console.log('Testing DevOps Automation API - Base URL:', pm.variables.get('base_url'));"
        ]
      }
    },
    {
      "listen": "test",
      "script": {
        "type": "text/javascript",
        "exec": [
          "// Global test script",
          "pm.test('Response time is less than 5000ms', function () {",
          "    pm.expect(pm.response.responseTime).to.be.below(5000);",
          "});",
          "",
          "pm.test('Status code is success', function () {",
          "    pm.expect(pm.response.code).to.be.oneOf([200, 201, 202]);",
          "});"
        ]
      }
    }
  ]
}